%I A366631 #51 Nov 23 2023 19:43:23
%S A366631 1,1,2,1,2,3,2,4,2,3,4,5,3,6,3,5,6,7,3,8,4,5,7,8,7,8,9,4,7,9,10,4,9,
%T A366631 10,11,4,10,12,4,11,13,4,12,13,12,13,14,4,15,4,14,15,16,4,17,6,8,10,
%U A366631 14,16,17,16,17,18,9,15,17,18,19,11,16,19,20,18,19
%N A366631 Lexicographically earliest sequence such that each set of numbers enclosed by a pair of equal terms, excluding the endpoints, is distinct.
%C A366631 The word 'set' means that every element is unique and order is irrelevant. {2,3}, for example, is equivalent to {3,2,2} and thus both could never appear in the sequence.
%C A366631 Two consecutive equal values enclose the empty set {}, and thus after [a(1), a(2)] = [1, 1] no consecutive equal values will occur again.
%C A366631 Note that we are considering sets between every pair of equal values, not just those that appear consecutively. For example, [2,1,2,3,2] = {1,2,3} is a pair as well as [2,3,2] = {3}.
%C A366631 It appears that for n >= 21510, a(n + 17796) = a(n) + 2614 (found by Rémy Sigrist).
%C A366631 If the linear recurrence above is true, every number appears finitely many times. A value k is banned after all the values in a set enclosed by a(i1) = a(i2) = k, with i1 < i2, have reoccurred in the sequence after a(i2). Suppose, for example, we have a set S1 enclosed by a(i1) = a(i2) = k. If after a(i2), every element in S1 appears, we have a new set S2 enclosed by the subsequence [a(i2)...a(i3)], which contains every element in S1 and possibly other elements. This makes S1 a subset of S2. However, this would contradict the sequence's definition since if a(i3) occurs, the set S2 enclosed by [a(i2)...a(i3)] is identical to the set enclosed by [a(i1)...a(i3)] because S1, being a subset of S2, adds no new elements to S2.
%C A366631 Assuming the linear recurrence above is true, the number 526 occurs a record number of 44 times in the sequence and it does not occur again after the linear recurrence begins. The same is true of three other values which occur 41, 42, and 43 times in the sequence.
%C A366631 For n>2, a new value is always followed by the smallest number that has not yet been banned and is distinct from the previous number (i.e. does not form a null set).
%C A366631 If the definition is changed so that endpoints are included, this becomes A133622.
%H A366631 Neal Gersh Tolunsky, <a href="/A366631/b366631.txt">Table of n, a(n) for n = 1..10000</a>
%H A366631 Rémy Sigrist, <a href="/A366631/a366631.gp.txt">PARI program</a>
%H A366631 Neal Gersh Tolunsky, <a href="/A366631/a366631.png">First differences of 100000 terms</a>
%H A366631 Neal Gersh Tolunsky, <a href="/A366631/a366631_1.png">Ordinal transform of 100000 terms</a>
%e A366631 a(2)=1, establishing the empty set [1,1] = {}.
%e A366631 a(4)=1, creating the sets [1,2,1] = {2} and [1,1,2,1] = {1,2}, which are distinct from any set that has appeared thus far. Note that 1 is now permanently banned since the next 1 would have to enclose the same set with a(1) as it would with a(2) (and thus 1 is now impossible).
%e A366631 a(8)=4: a(8) cannot be 1 since 1 has been banned. 2 would form the empty set with a(7)=2. a(8) cannot be 3 since this would form the set[3,2,3] = {2}, which already occurred as [1,2,1] = {2}. a(8)=4 because 4 is a first occurrence and thus creates no new sets (or old sets).
%e A366631 For another example of a banned number, see the last occurrence of 2, which is a(9)=2. a(10) cannot be 2 since this would form the empty set. a(11) cannot be 2 since this would form the set [2,3,2] = {3}, which occurred earlier at a(5-7). At a(12), the value 2 is finally banned forever since any 2 would form the same set of numbers with a(7)=2 as with a(5)=2. This is because a set paired with a(5)=2 would only add the value 3, which keeps the set the same as pairing with a(7)=2, which already encloses a 3 at a(10)=3.
%o A366631 (PARI) See Links section.
%Y A366631 Cf. A366625, A366624, A366493, A366691.
%K A366631 nonn,changed
%O A366631 1,3
%A A366631 _Neal Gersh Tolunsky_, Oct 14 2023
%E A366631 More terms from _Rémy Sigrist_, Oct 15 2023
