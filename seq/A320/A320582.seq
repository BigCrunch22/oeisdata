%I A320582 #51 Feb 09 2021 08:19:22
%S A320582 1,1,0,1,0,1,2,0,4,0,5,6,10,2,1,21,36,42,12,9,0,117,226,219,104,47,6,
%T A320582 1,792,1568,1472,800,328,64,16,0,6205,12360,11596,6652,2658,688,148,
%U A320582 12,1,55005,109760,103600,60840,24770,7120,1560,200,25,0,543597,1085560,1030649,614420,255830,77732,17750,2876,365,20,1
%N A320582 Number T(n,k) of permutations p of [n] such that |{ j : |p(j)-j| = 1 }| = k; triangle T(n,k), n >= 0, 0 <= k <= n, read by rows.
%H A320582 Alois P. Heinz, <a href="/A320582/b320582.txt">Rows n = 0..24, flattened</a>
%F A320582 Sum_{k=1..n} k * T(n,k) = A052582(n-1) for n > 0.
%F A320582 Sum_{k=0..n} (k+1) * T(n,k) = A082033(n-1) for n > 0.
%e A320582 T(4,0) = 5: 1234, 1432, 3214, 3412, 4231.
%e A320582 T(4,1) = 6: 2431, 3241, 3421, 4132, 4213, 4312.
%e A320582 T(4,2) = 10: 1243, 1324, 1342, 1423, 2134, 2314, 2413, 3124, 3142, 4321.
%e A320582 T(4,3) = 2: 2341, 4123.
%e A320582 T(4,4) = 1: 2143.
%e A320582 Triangle T(n,k) begins:
%e A320582       1;
%e A320582       1,      0;
%e A320582       1,      0,      1;
%e A320582       2,      0,      4,     0;
%e A320582       5,      6,     10,     2,     1;
%e A320582      21,     36,     42,    12,     9,    0;
%e A320582     117,    226,    219,   104,    47,    6,    1;
%e A320582     792,   1568,   1472,   800,   328,   64,   16,   0;
%e A320582    6205,  12360,  11596,  6652,  2658,  688,  148,  12,  1;
%e A320582   55005, 109760, 103600, 60840, 24770, 7120, 1560, 200, 25,  0;
%e A320582   ...
%p A320582 b:= proc(s) option remember; expand((n-> `if`(n=0, 1, add(
%p A320582      `if`(abs(n-j)=1, x, 1)*b(s minus {j}), j=s)))(nops(s)))
%p A320582     end:
%p A320582 T:= n-> (p-> seq(coeff(p, x, i), i=0..n))(b({$1..n})):
%p A320582 seq(T(n), n=0..12);
%t A320582 b[s_] := b[s] = Expand[With[{n = Length[s]}, If[n==0, 1, Sum[
%t A320582      If[Abs[n-j]==1, x, 1]*b[s~Complement~{j}], {j, s}]]]];
%t A320582 T[n_] := PadRight[CoefficientList[b[Range[n]], x], n+1];
%t A320582 T /@ Range[0, 12] // Flatten (* _Jean-Fran√ßois Alcover_, Feb 09 2021, after _Alois P. Heinz_ *)
%Y A320582 Column k=0 gives A078480.
%Y A320582 Row sums give A000142.
%Y A320582 Main diagonal gives A059841.
%Y A320582 Cf. A008290, A008291, A052582, A082033, A323671.
%K A320582 nonn,tabl
%O A320582 0,7
%A A320582 _Alois P. Heinz_, Jan 23 2019
