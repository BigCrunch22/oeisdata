%I A324666 #14 May 30 2024 16:00:05
%S A324666 0,1,2,2,7,9,3,786,6,8,4,18,50,52,8,5,71,336258,10,12,74949,6,21,13,
%T A324666 15,438113,12,14,7,245,6219115,299928,299928,299930,299932,14,8,59,
%U A324666 103544,103544,125,16,16,18,423,9,62,48,50,37,39,106,28,18,20,10,363
%N A324666 Starting at n, a(n) is the total number of positive positions visited according to the following rules. On the k-th step (k=1,2,3,...) move a distance of k in the direction of zero. If the number landed on has been landed on before, move a distance of k away from zero instead.
%H A324666 David Nacin, <a href="/A324666/a324666.png">A324666(n)/A228474(n)</a>
%e A324666 For n=2, the points visited are 2,1,-1,-4,0.  As exactly two of these are positive, we have a(2)=2.
%o A324666 (Python)
%o A324666 #Sequences A324660-A324692 generated by manipulating this trip function
%o A324666 #spots - positions in order with possible repetition
%o A324666 #flee - positions from which we move away from zero with possible repetition
%o A324666 #stuck - positions from which we move to a spot already visited with possible repetition
%o A324666 def trip(n):
%o A324666     stucklist = list()
%o A324666     spotsvisited = [n]
%o A324666     leavingspots = list()
%o A324666     turn = 0
%o A324666     forbidden = {n}
%o A324666     while n != 0:
%o A324666         turn += 1
%o A324666         sign = n // abs(n)
%o A324666         st = sign * turn
%o A324666         if n - st not in forbidden:
%o A324666             n = n - st
%o A324666         else:
%o A324666             leavingspots.append(n)
%o A324666             if n + st in forbidden:
%o A324666                 stucklist.append(n)
%o A324666             n = n + st
%o A324666         spotsvisited.append(n)
%o A324666         forbidden.add(n)
%o A324666     return {'stuck':stucklist, 'spots':spotsvisited,
%o A324666                 'turns':turn, 'flee':leavingspots}
%o A324666 #Actual sequence
%o A324666 def a(n):
%o A324666     d = trip(n)
%o A324666     return sum(1 for i in d['spots'] if i > 0)
%Y A324666 Cf. A228474, A324660-A324692. Equals A228474 - A324665.
%K A324666 nonn,changed
%O A324666 0,3
%A A324666 _David Nacin_, Mar 10 2019
