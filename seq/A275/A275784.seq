%I A275784 #31 Jan 21 2020 09:46:51
%S A275784 1,1,1,1,1,1,1,0,1,1,1,0,1,2,1,1,0,1,4,5,1,1,0,1,12,53,16,1,1,0,1,36,
%T A275784 761,936,61,1,1,0,1,120,12661,87336,25325,272,1,1,0,1,400,229705,
%U A275784 9929000,18528505,933980,1385,1,1,0,1,1400,4410665,1267945800,17504311533,6376563600,45504649,7936,1
%N A275784 Number A(n,k) of up-down sequences with k copies each of 1,2,...,n; square array A(n,k), n>=0, k>=0, read by antidiagonals.
%H A275784 Alois P. Heinz, <a href="/A275784/b275784.txt">Antidiagonals n = 0..15, flattened</a>
%e A275784 A(4,1) = 5: 1324, 1423, 2314, 2413, 3412.
%e A275784 A(3,2) = 4: 121323, 132312, 231213, 231312.
%e A275784 A(3,3) = 12: 121313232, 121323132, 121323231, 131213232, 132312132, 132323121, 231213132, 231213231, 231312132, 231323121, 232312131, 232313121.
%e A275784 A(2,4) = 1: 12121212.
%e A275784 Square array A(n,k) begins:
%e A275784   1,   1,      1,          1,              1,              1, ...
%e A275784   1,   1,      0,          0,              0,              0, ...
%e A275784   1,   1,      1,          1,              1,              1, ...
%e A275784   1,   2,      4,         12,             36,            120, ...
%e A275784   1,   5,     53,        761,          12661,         229705, ...
%e A275784   1,  16,    936,      87336,        9929000,     1267945800, ...
%e A275784   1,  61,  25325,   18528505,    17504311533, 19126165462061, ...
%e A275784   1, 272, 933980, 6376563600, 59163289699260, ...
%p A275784 b:= proc(n, l) option remember; `if`(l=[], 1, `if`(irem(add(i,
%p A275784       i=l), 2)=0, add(b(i, subsop(i=`if`(l[i]=1, [][], l[i]-1),
%p A275784       l)), i=n+1..nops(l)), add(b(i-`if`(l[i]=1, 1, 0), subsop(
%p A275784       i=`if`(l[i]=1, [][], l[i]-1), l)), i=1..n-1)))
%p A275784     end:
%p A275784 A:= (n, k)->`if`(k=0, 1, b(`if`(irem(k*n, 2)=0, 0, n+1), [k$n])):
%p A275784 seq(seq(A(n, d-n), n=0..d), d=0..10);
%t A275784 b[n_, l_List] := b[n, l] = If[l == {}, 1, If[EvenQ[Total[l]], Sum[b[i, ReplacePart[l, i -> If[l[[i]] == 1, Nothing, l[[i]]-1]]], {i, n+1, Length[l]}], Sum[b[i - If[l[[i]] == 1, 1, 0], ReplacePart[l, i -> If[l[[i]] == 1, Nothing, l[[i]]-1]]], {i, 1, n-1}]]]; A[n_, k_] := If[k == 0, 1, b[If[EvenQ[k*n], 0, n+1], Array[k&, n]]]; Table[A[n, d-n], {d, 0, 10}, {n, 0, d}] // Flatten (* _Jean-Fran√ßois Alcover_, Jan 23 2017, adapted from Maple *)
%Y A275784 Columns k=0-3 give: A000012, A000111, A275801, A276636.
%Y A275784 Rows n=2-5 give: A000012, A241530, A036916, A276637.
%Y A275784 Cf. A269129, A331562.
%K A275784 nonn,tabl
%O A275784 0,14
%A A275784 _Alois P. Heinz_, Aug 12 2016
