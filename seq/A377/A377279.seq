%I A377279 #8 Oct 23 2024 00:44:39
%S A377279 1,2,3,2,3,4,3,3,4,4,3,4,3,4,5,3,4,5,2
%N A377279 Number of fixed points of f(k) = floor(k^2 / n) mod n^2.
%C A377279 The classic base-B "middle square" technique for generating pseudorandom numbers is to square a seed less than B^2, express it in base B, and extract the middle two digits for the next iterate.
%C A377279 This is a very bad technique: it has many short trajectories ending in fixed points or short cycles. This sequence records the number of fixed points.
%H A377279 An article about the history of the middle-square method: http://bit-player.org/2022/the-middle-of-the-square
%e A377279 For n = 7, 30^2 = 900. Integer-divide this by 7 to get 128, which is 30 mod 49 (7^2). So 30 is a fixed point. Two other fixed points are 0 and 7, so A(7) = 3.
%o A377279 (Python)
%o A377279 def f(b):
%o A377279     count = 0
%o A377279     for n in range(b*b):
%o A377279         val = ((n*n) // b) % (b*b)
%o A377279         if n == val:
%o A377279             count += 1
%o A377279     return count
%K A377279 nonn
%O A377279 1,2
%A A377279 _Allan C. Wechsler_, Oct 22 2024
