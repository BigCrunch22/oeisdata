%I A377091 #22 Dec 27 2024 08:45:06
%S A377091 0,1,2,-2,-1,3,4,5,-4,-3,6,7,8,-8,-7,-6,-5,-9,-10,-11,-12,13,9,10,11,
%T A377091 12,-13,-14,-15,-16,-17,-18,18,14,15,16,17,-19,-20,-21,-22,-23,-24,25,
%U A377091 21,20,19,23,22,26,27,28,24,-25,-26,-27,-28,-29,-30,-31,-32,32
%N A377091 a(0) = 0, and for any n > 0, a(n) is the least integer (in absolute value) not yet in the sequence such that the absolute difference of a(n-1) and a(n) is a square; in case of a tie, preference is given to the positive value.
%C A377091 This sequence is a variant of A277616 allowing negative values.
%C A377091 Will every integer appear in the sequence?
%H A377091 N. J. A. Sloane, <a href="/A377091/b377091.txt">Table of n, a(n) for n = 0..20000</a> [First 10000 terms from Rémy Sigrist]
%H A377091 Rémy Sigrist, <a href="/A377091/a377091.png">Scatterplot of the first 10000 terms of the partial sums</a>
%H A377091 Rémy Sigrist, <a href="/A377091/a377091.gp.txt">PARI program</a>
%e A377091 The first terms are:
%e A377091   n   a(n)  |a(n)-a(n-1)|
%e A377091   --  ----  -------------
%e A377091    0     0  N/A
%e A377091    1     1  1^2
%e A377091    2     2  1^2
%e A377091    3    -2  2^2
%e A377091    4    -1  1^2
%e A377091    5     3  2^2
%e A377091    6     4  1^2
%e A377091    7     5  1^2
%e A377091    8    -4  3^2
%e A377091    9    -3  1^2
%e A377091   10     6  3^2
%e A377091   11     7  1^2
%e A377091   12     8  1^2
%e A377091   13    -8  4^2
%e A377091   14    -7  1^2
%o A377091 (PARI) \\ See Links section.
%o A377091 (Python)
%o A377091 from math import isqrt
%o A377091 from itertools import count, islice
%o A377091 def cond(n): return isqrt(n)**2 == n
%o A377091 def agen(): # generator of terms
%o A377091     an, aset, m = 0, {0}, 1
%o A377091     for n in count(0):
%o A377091         yield an
%o A377091         an = next(s for k in count(m) for s in [k, -k] if s not in aset and cond(abs(an-s)))
%o A377091         aset.add(an)
%o A377091         while m in aset and -m in aset: m += 1
%o A377091 print(list(islice(agen(), 62))) # _Michael S. Branicky_, Dec 25 2024
%Y A377091 Cf. A277616, A377090, A377092.
%K A377091 sign,look,changed
%O A377091 0,3
%A A377091 _Rémy Sigrist_, Oct 16 2024
