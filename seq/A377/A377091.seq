%I A377091 #97 Jan 19 2025 14:09:18
%S A377091 0,1,2,-2,-1,3,4,5,-4,-3,6,7,8,-8,-7,-6,-5,-9,-10,-11,-12,13,9,10,11,
%T A377091 12,-13,-14,-15,-16,-17,-18,18,14,15,16,17,-19,-20,-21,-22,-23,-24,25,
%U A377091 21,20,19,23,22,26,27,28,24,-25,-26,-27,-28,-29,-30,-31,-32,32
%N A377091 a(0) = 0; thereafter a(n) is the least integer (in absolute value) not yet in the sequence such that the absolute difference of a(n-1) and a(n) is a square; in case of a tie, preference is given to the positive value.
%C A377091 Conjecture: Every integer (positive or negative) appears in this sequence.
%C A377091 Conjecture: For n > 2, |a(n)| is within (1/2)*sqrt(n) of floor(n/2). See A379071. - _N. J. A. Sloane_, Dec 29 2024
%H A377091 N. J. A. Sloane, <a href="/A377091/b377091.txt">Table of n, a(n) for n = 0..20000</a> [First 10000 terms from Rémy Sigrist]
%H A377091 M. F. Hasler, <a href="/A377091/a377091_2.html">Interactive spiral graph representation of the first n terms</a>, Jan 18 2025
%H A377091 Kerry Mitchell, <a href="/A377091/a377091_2.jpg">Spiral graph representation of first 31 terms</a>
%H A377091 Kerry Mitchell, <a href="/A377091/a377091_3.jpg">Colored spiral graph representation of first 100 terms</a>
%H A377091 Chris Scussel, <a href="/A377091/a377091.pdf">Spiral graph representation of 5000 terms</a>
%H A377091 Rémy Sigrist, <a href="/A377091/a377091.png">Scatterplot of the first 10000 terms of the partial sums</a>
%H A377091 Rémy Sigrist, <a href="/A377091/a377091_1.png">Christmas card based on graph of the partial sums</a> [Rotate graph by 90 degs, add color and decorations]
%H A377091 Rémy Sigrist, <a href="/A377091/a377091.gp.txt">PARI program</a>
%H A377091 N. J. A. Sloane, <a href="/A377091/a377091.txt">Table of n, a(n) for n = 0..250000</a>
%H A377091 N. J. A. Sloane, <a href="/A377091/a377091_1.jpg">Spiral graph representation of first 28 terms</a> [Hand-drawn]
%e A377091 The initial terms are:
%e A377091   n   a(n)  |a(n)-a(n-1)|
%e A377091   --  ----  -------------
%e A377091    0     0  N/A
%e A377091    1     1  1^2
%e A377091    2     2  1^2
%e A377091    3    -2  2^2
%e A377091    4    -1  1^2
%e A377091    5     3  2^2
%e A377091    6     4  1^2
%e A377091    7     5  1^2
%e A377091    8    -4  3^2
%e A377091    9    -3  1^2
%e A377091   10     6  3^2
%e A377091   11     7  1^2
%e A377091   12     8  1^2
%e A377091   13    -8  4^2
%e A377091   14    -7  1^2
%o A377091 (PARI) \\ See Links section.
%o A377091 (PARI) A377091_upto(n,S=[])={vector(n+1, k, S=setunion(S, [n=if(k>1, k=1; while(setsearch(S,k) || !issquare(abs(n-k)), k=(k<0)-k); k)]); n)} \\ _M. F. Hasler_, Jan 18 2025
%o A377091 (Python)
%o A377091 from math import isqrt
%o A377091 from itertools import count, islice
%o A377091 def cond(n): return isqrt(n)**2 == n
%o A377091 def agen(): # generator of terms
%o A377091     an, aset, m = 0, {0}, 1
%o A377091     for n in count(0):
%o A377091         yield an
%o A377091         an = next(s for k in count(m) for s in [k, -k] if s not in aset and cond(abs(an-s)))
%o A377091         aset.add(an)
%o A377091         while m in aset and -m in aset: m += 1
%o A377091 print(list(islice(agen(), 62))) # _Michael S. Branicky_, Dec 25 2024
%Y A377091 This sequence is a variant of A277616 allowing negative values.
%Y A377091 Cf. A277617-A277618, A377090, A377092.
%Y A377091 A large number of sequences have been derived from the present sequence in the hope (so far unfulfilled) of finding a formula or recurrence: see A379057-A379078, A379786-A379798, A379802-A379804, A379880, A380223-A380225.
%K A377091 sign,look,nice,changed
%O A377091 0,3
%A A377091 _Rémy Sigrist_, Oct 16 2024
