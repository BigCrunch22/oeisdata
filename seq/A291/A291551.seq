%I A291551 #20 Aug 26 2017 17:54:33
%S A291551 1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,26,0,262,0,10226,43964,139484,0,
%T A291551 13936472,59652396,301235944,1915640632,7969506364,0
%N A291551 Number of permutations s_1,s_2,...,s_n of 1,2,...,n such that for all j=1,2,...,n, Sum_{i=1..j} s_i divides Product_{i=1..j} s_i.
%C A291551 a(n) = 0 if n+1 does not divide 2*(n-1)!. This implies that a(p-1) = 0 for p > 2 prime. - _Chai Wah Wu_, Aug 26 2017
%e A291551 a(15) = 26: [[10, 15, 5, 6, 4, 8, 2, 14, 11, 13, 3, 7, 1, 9, 12], [10, 15, 5, 6, 12, 2, 14, 11, 13, 3, 7, 1, 9, 4, 8], [10, 15, 5, 6, 12, 2, 14, 11, 13, 3, 9, 4, 1, 7, 8], [10, 15, 5, 6, 14, 13, 2, 7, 8, 11, 9, 4, 1, 3, 12], [10, 15, 5, 6, 14, 13, 2, 7, 8, 11, 9, 4, 1, 12, 3], [10, 15, 5, 6, 14, 13, 7, 2, 8, 11, 9, 4, 1, 3, 12], [10, 15, 5, 6, 14, 13, 7, 2, 8, 11, 9, 4, 1, 12, 3], [10, 15, 5, 6, 14, 13, 7, 8, 2, 11, 9, 4, 1, 3, 12], [10, 15, 5, 6, 14, 13, 7, 8, 2, 11, 9, 4, 1, 12, 3], [10, 15, 5, 6, 14, 13, 9, 8, 11, 7, 2, 4, 1, 3, 12], [10, 15, 5, 6, 14, 13, 9, 8, 11, 7, 2, 4, 1, 12, 3], [10, 15, 5, 6, 14, 13, 12, 3, 2, 11, 7, 1, 9, 4, 8], [10, 15, 5, 6, 14, 13, 12, 3, 2, 11, 9, 4, 1, 7, 8], [15, 10, 5, 6, 4, 8, 2, 14, 11, 13, 3, 7, 1, 9, 12], [15, 10, 5, 6, 12, 2, 14, 11, 13, 3, 7, 1, 9, 4, 8], [15, 10, 5, 6, 12, 2, 14, 11, 13, 3, 9, 4, 1, 7, 8], [15, 10, 5, 6, 14, 13, 2, 7, 8, 11, 9, 4, 1, 3, 12], [15, 10, 5, 6, 14, 13, 2, 7, 8, 11, 9, 4, 1, 12, 3], [15, 10, 5, 6, 14, 13, 7, 2, 8, 11, 9, 4, 1, 3, 12], [15, 10, 5, 6, 14, 13, 7, 2, 8, 11, 9, 4, 1, 12, 3], [15, 10, 5, 6, 14, 13, 7, 8, 2, 11, 9, 4, 1, 3, 12], [15, 10, 5, 6, 14, 13, 7, 8, 2, 11, 9, 4, 1, 12, 3], [15, 10, 5, 6, 14, 13, 9, 8, 11, 7, 2, 4, 1, 3, 12], [15, 10, 5, 6, 14, 13, 9, 8, 11, 7, 2, 4, 1, 12, 3], [15, 10, 5, 6, 14, 13, 12, 3, 2, 11, 7, 1, 9, 4, 8], [15, 10, 5, 6, 14, 13, 12, 3, 2, 11, 9, 4, 1, 7, 8]].
%o A291551 (Ruby)
%o A291551 def search(a, prod, sum, size, num)
%o A291551   if num == size + 1
%o A291551     @cnt += 1
%o A291551   else
%o A291551     (1..size).each{|i|
%o A291551       p, s = prod * i, sum + i
%o A291551       if a[i - 1] == 0 && p % s == 0
%o A291551         a[i - 1] = 1
%o A291551         search(a, p, s, size, num + 1)
%o A291551         a[i - 1] = 0
%o A291551       end
%o A291551     }
%o A291551   end
%o A291551 end
%o A291551 def A(n)
%o A291551   a = [0] * n
%o A291551   @cnt = 0
%o A291551   search(a, 1, 0, n, 1)
%o A291551   @cnt
%o A291551 end
%o A291551 def A291551(n)
%o A291551   (0..n).map{|i| A(i)}
%o A291551 end
%o A291551 p A291551(20)
%Y A291551 Cf. A060462, A126328.
%K A291551 nonn,more
%O A291551 0,16
%A A291551 _Seiichi Manyama_, Aug 26 2017
%E A291551 a(26)-a(28) from _Alois P. Heinz_, Aug 26 2017
