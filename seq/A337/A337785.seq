%I A337785 #31 Sep 22 2020 03:54:25
%S A337785 1,1,1,2,1,3,1,4,1,5,2,6,1,9,1,9,4,9,3,14,2,14,6,14,5,21,4,19,10,21,8,
%T A337785 27,6,29,16,25,12,38,14,33,19,37,22,46,14,47,33,45,22,59,29,59,35,56,
%U A337785 40,74,34,68,53,72,47,90,47,88,63,88,64,105,59,108,84,106,75,130,81,125,99,128,103,147
%N A337785 Number of addition triangles whose sum is n (version 1).
%C A337785 An addition triangle has any set of positive numbers as base; other rows are formed by adding pairs of adjacent numbers.
%C A337785 Reversing the base counts as a different triangle.
%H A337785 Seiichi Manyama, <a href="/A337785/b337785.txt">Table of n, a(n) for n = 1..500</a>
%e A337785    n |
%e A337785 -----+------------------------------------------------
%e A337785    1 |  1
%e A337785 -----+------------------------------------------------
%e A337785    2 |  2
%e A337785 -----+------------------------------------------------
%e A337785    3 |  3
%e A337785 -----+------------------------------------------------
%e A337785    4 |      2
%e A337785      |  4  1,1
%e A337785 -----+------------------------------------------------
%e A337785    5 |  5
%e A337785 -----+------------------------------------------------
%e A337785    6 |      3    3
%e A337785      |  6  1,2  2,1
%e A337785 -----+------------------------------------------------
%e A337785    7 |  7
%e A337785 -----+------------------------------------------------
%e A337785    8 |      4    4    4
%e A337785      |  8  1,3  2,2  3,1
%e A337785 -----+------------------------------------------------
%e A337785    9 |  9
%e A337785 -----+------------------------------------------------
%e A337785   10 |      5    5    5    5
%e A337785      | 10  1,4  2,3  3,2  4,1
%e A337785 -----+------------------------------------------------
%e A337785   11 |       4
%e A337785      |      2,2
%e A337785      | 11  1,1,1
%e A337785 -----+------------------------------------------------
%e A337785   12 |      6    6    6    6    6
%e A337785      | 12  1,5  2,4  3,3  4,2  5,1
%e A337785 -----+------------------------------------------------
%e A337785   13 | 13
%e A337785 -----+------------------------------------------------
%e A337785   14 |                                     5      5
%e A337785      |      7    7    7    7    7    7    2,3    3,2
%e A337785      | 14  1,6  2,5  3,4  4,3  5,2  6,1  1,1,2  2,1,1
%o A337785 (Ruby)
%o A337785 def f(n)
%o A337785   ary = [1]
%o A337785   (n - 1).times{|i|
%o A337785     ary = [0] + ary + [0]
%o A337785     ary = (0..i + 1).map{|j| ary[j] + ary[j + 1] + 1}
%o A337785   }
%o A337785   ary
%o A337785 end
%o A337785 def A(n)
%o A337785   f_ary = (1..n / 2).map{|i| [i]}
%o A337785   cnt = 1
%o A337785   s = 1
%o A337785   while f_ary.size > 0
%o A337785     s_ary = f(s + 1)
%o A337785     b_ary = []
%o A337785     f_ary.each{|i|
%o A337785       (1..i[0] - 1).each{|j|
%o A337785         a = [j]
%o A337785         (0..s - 1).each{|k|
%o A337785           num = i[k] - a[k]
%o A337785           if num > 0
%o A337785             a << num
%o A337785           else
%o A337785             break
%o A337785           end
%o A337785         }
%o A337785         if a.size == s + 1
%o A337785           sum = (0..s).inject(0){|t, m| t + s_ary[m] * a[m]}
%o A337785           if sum < n
%o A337785             b_ary << a
%o A337785           elsif sum == n
%o A337785             cnt += 1
%o A337785           end
%o A337785         end
%o A337785       }
%o A337785     }
%o A337785     f_ary = b_ary
%o A337785     s += 1
%o A337785   end
%o A337785   cnt
%o A337785 end
%o A337785 def A337785(n)
%o A337785   (1..n).map{|i| A(i)}
%o A337785 end
%o A337785 p A337785(50)
%Y A337785 Cf. A014430, A062684, A062896, A337765, A337766, see A337787 for version 2.
%K A337785 nonn,look
%O A337785 1,4
%A A337785 _Seiichi Manyama_, Sep 21 2020
