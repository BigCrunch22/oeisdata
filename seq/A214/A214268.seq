%I A214268 #22 Jan 03 2019 11:22:54
%S A214268 1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,3,2,1,1,1,1,3,4,4,1,1,1,1,3,4,5,
%T A214268 3,1,1,1,1,3,4,7,11,5,1,1,1,1,3,4,7,12,12,3,1,1,1,1,3,4,7,14,20,16,5,
%U A214268 1,1,1,1,3,4,7,14,21,28,30,5,1
%N A214268 Number A(n,k) of compositions of n where the difference between largest and smallest parts is <= k and adjacent parts are unequal; square array A(n,k), n>=0, k>=0, read by antidiagonals.
%H A214268 Alois P. Heinz, <a href="/A214268/b214268.txt">Antidiagonals n = 0..140</a>
%e A214268 A(3,0) = 1: [3].
%e A214268 A(4,1) = 2: [4], [1,2,1].
%e A214268 A(5,2) = 5: [5], [3,2], [2,3], [2,1,2], [1,3,1].
%e A214268 A(6,3) = 12: [6], [4,2], [3,2,1], [3,1,2], [2,4], [2,3,1], [2,1,3], [2,1,2,1], [1,4,1], [1,3,2], [1,2,3], [1,2,1,2].
%e A214268 A(7,4) = 21: [7], [5,2], [4,3], [4,2,1], [4,1,2], [3,4], [3,1,3], [3,1,2,1], [2,5], [2,4,1], [2,3,2], [2,1,4], [2,1,3,1], [1,5,1], [1,4,2], [1,3,2,1], [1,3,1,2], [1,2,4], [1,2,3,1], [1,2,1,3], [1,2,1,2,1].
%e A214268 Square array A(n,k) begins:
%e A214268   1,  1,  1,  1,  1,  1,  1,  1, ...
%e A214268   1,  1,  1,  1,  1,  1,  1,  1, ...
%e A214268   1,  1,  1,  1,  1,  1,  1,  1, ...
%e A214268   1,  3,  3,  3,  3,  3,  3,  3, ...
%e A214268   1,  2,  4,  4,  4,  4,  4,  4, ...
%e A214268   1,  4,  5,  7,  7,  7,  7,  7, ...
%e A214268   1,  3, 11, 12, 14, 14, 14, 14, ...
%e A214268   1,  5, 12, 20, 21, 23, 23, 23, ...
%p A214268 b:= proc(n, k, s, t, l) option remember;
%p A214268       `if`(n<0, 0, `if`(n=0, 1, add(`if`(j=l, 0, b(n-j, k,
%p A214268        min(s, j), max(t, j), j)), j=max(1, t-k+1)..s+k-1)))
%p A214268     end:
%p A214268 A:= (n, k)-> `if`(n=0, 1, add(b(n-j, k+1, j, j, j), j=1..n)):
%p A214268 seq(seq(A(n,d-n), n=0..d), d=0..14);
%t A214268 b[n_, k_, s_, t_, l_] := b[n, k, s, t, l] = If[n < 0, 0, If[n == 0, 1, Sum[If[j == l, 0, b[n - j, k, Min[s, j], Max[t, j], j]], {j, Max[1, t - k + 1], s + k - 1}]]]; A[n_, k_] := If[n == 0, 1, Sum[b[n - j, k + 1, j, j, j], {j, 1, n}]]; Table[Table[A [n, d - n], {n, 0, d}], {d, 0, 14}] // Flatten (* _Jean-FranÃ§ois Alcover_, Dec 27 2013, translated from Maple *)
%Y A214268 Columns k=0, 1 give: A000012, 1+A214270(n).
%Y A214268 Main diagonal gives: A003242.
%Y A214268 Cf. A214246, A214247, A214248, A214249, A214257, A214258, A214269.
%K A214268 nonn,tabl
%O A214268 0,14
%A A214268 _Alois P. Heinz_, Jul 09 2012
