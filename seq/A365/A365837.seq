%I A365837 #37 Oct 20 2023 12:33:14
%S A365837 1,1,1,1,1,1,1,4,1,1,1,4,1,1,1,4,1,9,1,4,1,1,1,4,1,1,9,4,1,1,1,16,1,1,
%T A365837 1,9,1,1,1,4,1,1,1,4,9,1,1,16,1,25,1,4,1,9,1,4,1,1,1,4,1,1,9,16,1,1,1,
%U A365837 4,1,1,1,36,1,1,25,4,1,1,1,16,9,1,1,4,1,1,1,4,1,9,1,4,1,1,1,16,1,49,9,25
%N A365837 Largest proper square divisor of n, for n >= 2; a(1) = 1.
%t A365837 Join[{1}, Table[Last[Select[Divisors[n], # < n && IntegerQ[Sqrt[#]]  &]], {n, 2, 100}]]
%t A365837 f[p_, e_] := p^(2*Floor[e/2]); a[n_] := Module[{fct = FactorInteger[n]}, Times @@ f @@@ fct/If[AllTrue[fct[[;; , 2]], EvenQ], fct[[1, 1]]^2, 1]]; Array[a, 100] (* _Amiram Eldar_, Oct 19 2023 *)
%o A365837 (PARI) a(n) = if (n==1, 1, my(d=divisors(n)); vecmax(select(issquare, Vec(d, #d-1)))); \\ _Michel Marcus_, Oct 17 2023
%o A365837 (Python)
%o A365837 from math import prod
%o A365837 from sympy import factorint
%o A365837 def A365837(n):
%o A365837     if n<=1: return 1
%o A365837     f = factorint(n)
%o A365837     return prod(p**(e&-2) for p, e in f.items())//(min(f)**2 if all(e&1^1 for e in f.values()) else 1) # _Chai Wah Wu_, Oct 20 2023
%Y A365837 Cf. A008833, A032742, A063928, A085392, A089384, A093803, A366524.
%K A365837 nonn
%O A365837 1,8
%A A365837 _Ilya Gutkovskiy_, Oct 17 2023
