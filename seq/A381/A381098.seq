%I A381098 #17 Feb 14 2025 08:12:45
%S A381098 1,2,4,6,3,8,9,10,12,14,7,16,18,20,21,22,24,26,28,30,32,34,35,36,15,
%T A381098 27,33,38,39,40,42,44,45,46,48,50,51,52,54,56,57,58,60,62,63,64,66,68,
%U A381098 69,70,72,74,75,76,78,80,81,82,84,86,43,88,90
%N A381098 Irregular t riangle read by rows: row 1 = (1, 2); row n+1 has length L = last element of row n, and consists of the L smallest positive integers not occurring earlier that share a factor with L.
%C A381098 Length of row n = last element of row n-1.
%C A381098 After (or before) the first few iterations, the sequence ends in 2, 6, 14, 36, 86, 252, 553, ... So after the 6th iteration we land on the odd number 553 = 7 x 79. The sequence has 398 terms at that point. The next landing point is 4137, again odd, then 11358, still not a multiple of 5. And indeed, the next landing point is 23790, after which the very next term will be 5.
%e A381098 a(2) = 2, which means we need two numbers that share a common factor with 2, so a(3) = 4 and a(4) = 6.
%e A381098 Triangle begins:
%e A381098 1, 2,
%e A381098 4, 6,
%e A381098 3, 8, 9, 10, 12, 14,
%e A381098 7, 16, 18, 20, 21, 22, 24, 26, 28, 30, 32, 34, 35, 36,
%e A381098 15, 27, 33, 38, 39, 40, ...
%o A381098 (PARI)
%o A381098 extend()={ N=S[#S]; for(n=1,N,
%o A381098   for(k=U[1]+1,oo, setsearch(U,k) || gcd(k,N)==1 || [ S=concat(S,k), break ]);
%o A381098   U=setunion(U,S[-1..-1]) ; while(#U>1&&U[1]+1==U[2], U=U[^1]);
%o A381098   /* n%1000|| print1([[n]]) /* "progress meter" */ ); S[#S] }
%o A381098 S=[1,2]; U=S /*used numbers;  contiguous initial segment 1...k eventually purged*/;
%o A381098 for(n=1,99, print1(", "t=extend()); t%2 && print([n]); U[1]>4 && return(n))
%K A381098 nonn,tabf,new
%O A381098 1,2
%A A381098 _Ali Sada_ and _M. F. Hasler_, Feb 13 2025
%E A381098 _Allan C. Wechsler_ suggested formatting the sequence as a triangle.
