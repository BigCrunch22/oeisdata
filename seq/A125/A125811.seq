%I A125811 #26 Feb 27 2025 14:35:41
%S A125811 1,1,1,2,3,5,8,11,15,20,26,32,39,47,56,66,76,87,99,112,126,141,156,
%T A125811 172,189,207,226,246,267,288,310,333,357,382,408,435,463,491,520,550,
%U A125811 581,613,646,680,715,751,787,824,862,901,941,982,1024,1067,1111,1156,1201
%N A125811 Number of coefficients in the n-th q-Bell number as a polynomial in q.
%H A125811 Arvind Ayyer and Naren Sundaravaradan, <a href="https://arxiv.org/abs/2401.14668">An area-bounce exchanging bijection on a large subset of Dyck paths</a>, arXiv:2401.14668 [math.CO], 2024. See p. 20.
%F A125811 a(n) = A023536(n-2) + 1.
%F A125811 a(n) = n*(n+1)/2 - 4 - Sum_{k=2..n-2} floor(1/2 + sqrt(2*k+4)) for n>2. [Due to a formula by Jan Hagberg in A023536]
%e A125811 This sequence gives the number of terms in rows of A125810.
%e A125811 Row g.f.s B_q(n) of A125810 are polynomials in q generated by:
%e A125811 B_q(n) = Sum_{j=0..n-1} B_q(j) * C_q(n-1,j) for n>0 with B_q(0)=1
%e A125811 where the triangle of q-binomial coefficients C_q(n,k) begins:
%e A125811   1;
%e A125811   1, 1;
%e A125811   1, 1 + q, 1;
%e A125811   1, 1 + q + q^2, 1 + q + q^2, 1;
%e A125811   1, 1 + q + q^2 + q^3, 1 + q + 2*q^2 + q^3 + q^4, 1 + q + q^2 + q^3, 1;
%e A125811 The initial q-Bell coefficients in B_q(n) are:
%e A125811   B_q(0) = 1; B_q(1) = 1; B_q(2) = 2;
%e A125811   B_q(3) = 4 + q;
%e A125811   B_q(4) = 8 + 4*q + 3*q^2;
%e A125811   B_q(5) = 16 + 12*q + 13*q^2 + 8*q^3 + 3*q^4;
%e A125811   B_q(6) = 32 + 32*q + 42*q^2 + 38*q^3 + 33*q^4 + 15*q^5 + 10*q^6 + q^7.
%p A125811 Cq:= proc(n,k) local j; if n<k or k<0 then 0 elif n=0 or k=0 then 1 else mul(1-q^j, j=n-k+1..n)/mul(1-q^j, j=1..k) fi end: Bq:= proc(n) option remember; local k; if n=0 then 1 else simplify(add(Bq(k) * Cq(n-1, k), k=0..n-1)) fi end: a:= n-> nops(Bq(n)): seq(a(n), n=0..60); # _Alois P. Heinz_, Aug 04 2009
%t A125811 QB[n_, q_] := QB[n, q] = Sum[QB[j, q] QBinomial[n-1, j, q], {j, 0, n-1}] // FunctionExpand // Simplify; QB[0, q_]=1; QB[1, q_]=1; a[n_] := CoefficientList[QB[n, q], q] // Length; Table[an = a[n]; Print["a(", n, ") = ", an]; an, {n, 0, 60}] (* _Jean-Fran√ßois Alcover_, Feb 29 2016 *)
%o A125811 (PARI) /* q-Binomial coefficients: */
%o A125811 C_q(n,k)=if(n<k || k<0,0, if(n==0 || k==0,1, prod(j=n-k+1,n,1-q^j)/prod(j=1,k,1-q^j)))
%o A125811 /* q-Bell numbers = eigensequence of q-binomial triangle: */
%o A125811 B_q(n)=if(n==0,1,sum(k=0,n-1,B_q(k)*C_q(n-1,k)))
%o A125811 /* Number of coefficients in B_q(n) as a polynomial in q: */
%o A125811 a(n)=#Vec(B_q(n))
%o A125811 (Python)
%o A125811 from math import comb, isqrt
%o A125811 def A125811(n): return 1+comb(n,2)-sum(isqrt((k<<3)+1)-1>>1 for k in range(1,n)) # _Chai Wah Wu_, Feb 27 2025
%Y A125811 Cf. A125810, A125812, A125813, A125814, A125815.
%K A125811 nonn,changed
%O A125811 0,4
%A A125811 _Paul D. Hanna_, Dec 10 2006
%E A125811 More terms from _Alois P. Heinz_, Aug 04 2009
