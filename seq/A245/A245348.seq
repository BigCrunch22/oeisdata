%I A245348 #21 Dec 16 2021 16:48:52
%S A245348 1,1,1,4,3,2,27,15,8,4,256,112,50,22,10,3125,1125,430,166,66,26,46656,
%T A245348 14256,4752,1626,576,206,76,823543,218491,64484,19768,6310,2054,688,
%U A245348 232,16777216,3932160,1040384,288512,83736,24952,7660,2388,764
%N A245348 Number T(n,k) of endofunctions f on [n] that are self-inverse on [k]; triangle T(n,k), n>=0, 0<=k<=n, read by rows.
%C A245348 T(n,k) counts endofunctions f:{1,...,n}-> {1,...,n} with f(f(i))=i for all i in {1,...,k}.
%H A245348 Alois P. Heinz, <a href="/A245348/b245348.txt">Rows n = 0..140, flattened</a>
%F A245348 T(n,k) = Sum_{i=0..min(k,n-k)} C(n-k,i)*C(k,i)*i!*A000085(k-i)*n^(n-k-i).
%e A245348 T(3,1) = 15: (1,1,1), (2,1,1), (3,1,1), (1,2,1), (3,2,1), (1,3,1), (3,3,1), (1,1,2), (2,1,2), (1,2,2), (1,3,2), (1,1,3), (2,1,3), (1,2,3), (1,3,3).
%e A245348 T(3,2) = 8: (2,1,1), (1,2,1), (3,2,1), (2,1,2), (1,2,2), (1,3,2), (2,1,3), (1,2,3).
%e A245348 T(3,3) = 4: (3,2,1), (1,3,2), (2,1,3), (1,2,3).
%e A245348 Triangle T(n,k) begins:
%e A245348 0 :       1;
%e A245348 1 :       1,      1;
%e A245348 2 :       4,      3,     2;
%e A245348 3 :      27,     15,     8,     4;
%e A245348 4 :     256,    112,    50,    22,   10;
%e A245348 5 :    3125,   1125,   430,   166,   66,   26;
%e A245348 6 :   46656,  14256,  4752,  1626,  576,  206,  76;
%e A245348 7 :  823543, 218491, 64484, 19768, 6310, 2054, 688, 232;
%e A245348      ...
%p A245348 g:= proc(n) g(n):= `if`(n<2, 1, g(n-1)+(n-1)*g(n-2)) end:
%p A245348 T:= (n, k)-> add(binomial(n-k, i)*binomial(k, i)*i!*
%p A245348              g(k-i)*n^(n-k-i), i=0..min(k, n-k)):
%p A245348 seq(seq(T(n,k), k=0..n), n=0..10);
%t A245348 g[n_] := g[n] = If[n<2, 1, g[n-1] + (n-1)*g[n-2]]; T[0, 0] = 1; T[n_, k_] := Sum[Binomial[n-k, i]*Binomial[k, i]*i!*g[k-i]*n^(n-k-i), {i, 0, Min[k, n-k]}]; Table[T[n, k], {n, 0, 10}, {k, 0, n}] // Flatten (* _Jean-FranÃ§ois Alcover_, Feb 19 2017, translated from Maple *)
%Y A245348 Columns k=0-1 give: A000312, A089945(n-1) for n>0.
%Y A245348 Main diagonal gives A000085.
%Y A245348 T(2n,n) gives A245141.
%Y A245348 Cf. A239771, A245692.
%K A245348 nonn,tabl
%O A245348 0,4
%A A245348 _Alois P. Heinz_, Jul 18 2014
