%I A344662 #12 Feb 11 2022 11:53:38
%S A344662 1,2,96,746496,1284211998720,2427160677580800000000,
%T A344662 6166762687851449045483520000000000,
%U A344662 45287412266290145430585597857888710164480000000000,1555956528335898586085189699733983238252540690603399394099200000000000,395245501240598487865502317687285665641954608158944047815164739503046322343116800000000000000
%N A344662 a(n) is the number of preference profiles in the stable marriage problem with n men and n women so that they form n pairs of people of different genders who rank each other first, and so that the men's preferences arranged in a matrix form a Latin square.
%C A344662 Two people who rank each other first are called soulmates. The profiles in this sequence are required to have n pairs of soulmates.
%C A344662 The profiles with n pairs of soulmates are counted by sequence A343698. The profiles such that the men's preference form a Latin square are counted by A343696. The profiles in this sequence are the intersection of profiles in A343696 and A343698.
%C A344662 The Gale-Shapley algorithm (both men-proposing and women-proposing) on the preference profiles described by this sequence ends in one round.
%H A344662 Matvey Borodin, Eric Chen, Aidan Duncan, Tanya Khovanova, Boyan Litchev, Jiahe Liu, Veronika Moroz, Matthew Qian, Rohith Raghavan, Garima Rastogi, and Michael Voigt, <a href="https://arxiv.org/abs/2201.00645">Sequences of the Stable Matching Problem</a>, arXiv:2201.00645 [math.HO], 2021.
%H A344662 Wikipedia, <a href="https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm">Gale-Shapley algorithm</a>.
%F A344662 a(n) = (n-1)!^n * A002860(n) = A343696(n)/n^n.
%e A344662 For n = 3, there are A002860(3) = 12 ways to set up the men's preference profiles, where A002860(n) is the number of Latin squares of order n. The men's first preferences set the women's first preferences, so we only need to complete the women's profiles with other preferences, which can be done in 2!^3 = 8 ways. Thus, A344662(3) = 12 * 8 = 96.
%Y A344662 Cf. A002860, A185141, A343694, A343695, A343696, A343697, A343698, A344663.
%K A344662 nonn
%O A344662 1,2
%A A344662 _Tanya Khovanova_ and MIT PRIMES STEP Senior group, May 30 2021
